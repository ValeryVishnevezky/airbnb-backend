import{b as h,r as m,c as N,m as g,j as s,L as a}from"./index-D20p1Lf9.js";function v(){const n=h(i=>i.userModule.user),d=h(i=>i.stayModule.stays),[r,l]=m.useState(window.innerWidth<=745),o=N();m.useEffect(()=>(g.loadStays(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}),[]);function t(){window.innerWidth<=745?l(!0):l(!1)}function c(i){const x=d.find(j=>j._id===i);o(`/stay/${x._id}`)}const e=d.filter(i=>i.host._id===n._id);return!d||!n||!e?s.jsx("div",{children:"Loading..."}):s.jsxs("div",{className:"dashboard-listings",children:[s.jsxs("div",{className:"dashboard-links",children:[s.jsx(a,{to:"/dashboard/listings",className:"link-l",children:"Listings"}),s.jsx(a,{to:"/dashboard/reservations",className:"link",children:"Reservations"})]}),s.jsxs("div",{className:"dashboard-listings-list",children:[s.jsxs("div",{className:"dashboard-listings-header",children:[s.jsxs("h1",{children:[e.length,e.length===1?" listing":" listings"]}),s.jsx("button",{children:s.jsxs(a,{to:"/stay/edit",className:"add-listing",children:[s.jsx("img",{src:"/svg/plus.svg",alt:""})," Add listings"]})})]}),r?s.jsx("div",{className:"dashboard-listings-stays-small",children:e.map(i=>s.jsxs("div",{className:"stay",children:[s.jsx("div",{className:"stay-img",children:s.jsx("img",{onClick:()=>c(i._id),src:i.imgUrls[0]||"",alt:i.name,className:"stay-image"})}),s.jsx("h1",{className:"stay-name",children:i.name}),s.jsxs("h1",{className:"num",children:[i.capacity," ",i.capacity===1?"Guest":"Guests"]}),s.jsxs("h1",{className:"num",children:[i.bedrooms," ",i.bedrooms===1?"Bedroom":"Bedrooms"]}),s.jsxs("h1",{className:"num",children:[i.bathrooms," ",i.bathrooms===1?"Bathroom":"Bathrooms"]}),s.jsxs("h1",{className:"num",children:["$",i.price]}),s.jsxs("div",{className:"name",children:[s.jsx(a,{to:`/stay/edit/${i._id}`,className:"edit-btn",children:"Edit"}),s.jsx(a,{to:`/stay/${i._id}`,className:"view-btn",children:"View"})]})]},i._id))}):s.jsx("div",{className:"dashboard-listings-stays",children:s.jsxs("table",{className:"stay-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"listing",children:"LISTING"}),s.jsx("th",{}),s.jsx("th",{children:"CAPACITY"}),s.jsx("th",{children:"BEDROOMS"}),s.jsx("th",{children:"BATHROOMS"}),s.jsx("th",{children:"PRICE"}),s.jsx("th",{className:"manage",children:"MANAGE"})]})}),s.jsx("tbody",{children:e.map(i=>s.jsxs("tr",{children:[s.jsx("td",{className:"stay-img",children:s.jsx("img",{onClick:()=>c(i._id),src:i.imgUrls[0]||"",alt:i.name,className:"stay-image",style:{width:"100px",height:"auto"}})}),s.jsx("td",{className:"stay-name",children:i.name}),s.jsx("td",{className:"num",children:i.capacity}),s.jsx("td",{className:"num",children:i.bedrooms}),s.jsx("td",{className:"num",children:i.bathrooms}),s.jsxs("td",{className:"num",children:["$",i.price]}),s.jsxs("td",{className:"name",children:[s.jsx(a,{to:`/stay/edit/${i._id}`,className:"edit-btn",children:"Edit"}),s.jsx(a,{to:`/stay/${i._id}`,className:"view-btn",children:"View"})]})]},i._id))})]})})]})]})}export{v as default};
